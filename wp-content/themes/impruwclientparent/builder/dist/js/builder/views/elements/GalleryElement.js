(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["builderelement","tpl!builder/templates/elements/BasicElement.tpl","global"],function(e,n,r){var i,s;return i=function(e){function i(){return s=i.__super__.constructor.apply(this,arguments),s}return t(i,e),i.prototype.className="aj-imp-elem-gallery element ",i.prototype.template=n,i.prototype.elementType="GalleryElement",i.prototype.dataSource=0,i.prototype.events={mouseenter:"elementMouseEnter",mouseleave:"elementMouseLeave","click > .aj-imp-delete-btn":"destroyElement",click:"showModal",contextmenu:"showContextMenu"},i.prototype.initialize=function(e){e==null&&(e={}),_.isUndefined(e.config)?(this.id=this.type()+"-"+r.generateRandomId(),this.$el.attr("id",this.id)):this.setProperties(e.config),this.generateMarkup({icon:"",name:"Gallery Element"}),this.setContextMenu()},i.prototype.createGallery=function(e){var t;return e.length===0?!1:(t=_.map(e,function(e,t){return e.get("id")}),this.dataSource=t)},i.prototype.showModal=function(){var e;return e=_.bind(function(e,t){var n;return n=SiteBuilder.ViewManager.findByCustom("slider-manager"),e.isUndefined(n)&&(n=new t,SiteBuilder.ViewManager.add(n,"slider-manager")),this.listenTo(SiteBuilder.vent,"create-slider",this.createGallery),this.listenTo(SiteBuilder.vent,"modal-closed",this.stopListeningEvents),n.open()},this),require(["underscore","slidermanager"],e)},i.prototype.stopListeningEvents=function(e){return this.stopListening(SiteBuilder.vent,"create-slider",this.createGallery),this.stopListening(SiteBuilder.vent,"modal-closed",this.stopListeningEvents)},i}(e)})}).call(this);