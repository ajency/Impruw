// numeral.js
// version : 1.4.5
// author : Adam Draper
// license : MIT
// http://adamwdraper.github.com/Numeral-js/

(function(){function e(e){this._n=e}function t(e,t,n){var r=Math.pow(10,t),i;i=(Math.round(e*r)/r).toFixed(t);if(n){var s=new RegExp("0{1,"+n+"}$");i=i.replace(s,"")}return i}function n(e,t){var n;return t.indexOf("$")>-1?n=i(e,t):t.indexOf("%")>-1?n=s(e,t):t.indexOf(":")>-1?n=o(e,t):n=a(e,t),n}function r(e,t){if(t.indexOf(":")>-1)e._n=u(t);else if(t===d)e._n=0;else{var n=t;h[p].delimiters.decimal!=="."&&(t=t.replace(/\./g,"").replace(h[p].delimiters.decimal,"."));var r=new RegExp(h[p].abbreviations.thousand+"(?:\\)|(\\"+h[p].currency.symbol+")?(?:\\))?)?$"),i=new RegExp(h[p].abbreviations.million+"(?:\\)|(\\"+h[p].currency.symbol+")?(?:\\))?)?$"),s=new RegExp(h[p].abbreviations.billion+"(?:\\)|(\\"+h[p].currency.symbol+")?(?:\\))?)?$"),o=new RegExp(h[p].abbreviations.trillion+"(?:\\)|(\\"+h[p].currency.symbol+")?(?:\\))?)?$"),a=["KB","MB","GB","TB","PB","EB","ZB","YB"],f=!1;for(var l=0;l<=a.length;l++){f=t.indexOf(a[l])>-1?Math.pow(1024,l+1):!1;if(f)break}e._n=(f?f:1)*(n.match(r)?Math.pow(10,3):1)*(n.match(i)?Math.pow(10,6):1)*(n.match(s)?Math.pow(10,9):1)*(n.match(o)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*Number((t.indexOf("(")>-1?"-":"")+t.replace(/[^0-9\.'-]+/g,"")),e._n=f?Math.ceil(e._n):e._n}return e._n}function i(e,t){var r=t.indexOf("$")<=1?!0:!1,i="";t.indexOf(" $")>-1?(i=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(i=" ",t=t.replace("$ ","")):t=t.replace("$","");var s=n(e,t);return r?s.indexOf("(")>-1||s.indexOf("-")>-1?(s=s.split(""),s.splice(1,0,h[p].currency.symbol+i),s=s.join("")):s=h[p].currency.symbol+i+s:s.indexOf(")")>-1?(s=s.split(""),s.splice(-1,0,i+h[p].currency.symbol),s=s.join("")):s=s+i+h[p].currency.symbol,s}function s(e,t){var r="";t.indexOf(" %")>-1?(r=" ",t=t.replace(" %","")):t=t.replace("%",""),e._n=e._n*100;var i=n(e,t);return i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,r+"%"),i=i.join("")):i=i+r+"%",i}function o(e,t){var n=Math.floor(e._n/60/60),r=Math.floor((e._n-n*60*60)/60),i=Math.round(e._n-n*60*60-r*60);return n+":"+(r<10?"0"+r:r)+":"+(i<10?"0"+i:i)}function u(e){var t=e.split(":"),n=0;return t.length===3?(n+=Number(t[0])*60*60,n+=Number(t[1])*60,n+=Number(t[2])):t.lenght===2&&(n+=Number(t[0])*60,n+=Number(t[1])),Number(n)}function a(e,n){var r=!1,i=!1,s="",o="",u="",a=Math.abs(e._n);if(e._n===0&&d!==null)return d;n.indexOf("(")>-1&&(r=!0,n=n.slice(1,-1)),n.indexOf("a")>-1&&(n.indexOf(" a")>-1?(s=" ",n=n.replace(" a","")):n=n.replace("a",""),a>=Math.pow(10,12)?(s+=h[p].abbreviations.tillion,e._n=e._n/Math.pow(10,12)):a<Math.pow(10,12)&&a>=Math.pow(10,9)?(s+=h[p].abbreviations.billion,e._n=e._n/Math.pow(10,9)):a<Math.pow(10,9)&&a>=Math.pow(10,6)?(s+=h[p].abbreviations.million,e._n=e._n/Math.pow(10,6)):a<Math.pow(10,6)&&a>=Math.pow(10,3)&&(s+=h[p].abbreviations.thousand,e._n=e._n/Math.pow(10,3)));if(n.indexOf("b")>-1){n.indexOf(" b")>-1?(o=" ",n=n.replace(" b","")):n=n.replace("b","");var f=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l,c;for(var v=0;v<=f.length;v++){l=Math.pow(1024,v),c=Math.pow(1024,v+1);if(e._n>=l&&e._n<c){o+=f[v],l>0&&(e._n=e._n/l);break}}}n.indexOf("o")>-1&&(n.indexOf(" o")>-1?(u=" ",n=n.replace(" o","")):n=n.replace("o",""),u+=h[p].ordinal(e._n)),n.indexOf("[.]")>-1&&(i=!0,n=n.replace("[.]","."));var m=e._n.toString().split(".")[0],g=n.split(".")[1],y=n.indexOf(","),b="",w=!1;return g?(g.indexOf("[")>-1?(g=g.replace("]",""),g=g.split("["),b=t(e._n,g[0].length+g[1].length,g[1].length)):b=t(e._n,g.length),m=b.split(".")[0],b.split(".")[1].length?b=h[p].delimiters.decimal+b.split(".")[1]:b="",i&&Number(b)===0&&(b="")):m=t(e._n,null),m.indexOf("-")>-1&&(m=m.slice(1),w=!0),y>-1&&(m=m.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h[p].delimiters.thousands)),n.indexOf(".")===0&&(m=""),(r&&w?"(":"")+(!r&&w?"-":"")+m+b+(u?u:"")+(s?s:"")+(o?o:"")+(r&&w?")":"")}function f(e,t){h[e]=t}var l,c="1.4.5",h={},p="en",d=null,v=typeof module!="undefined"&&module.exports;l=function(t){return l.isNumeral(t)?t=t.value():Number(t)||(t=0),new e(Number(t))},l.version=c,l.isNumeral=function(t){return t instanceof e},l.language=function(e,t){return e?(e&&!t&&(p=e),(t||!h[e])&&f(e,t),l):p},l.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},currency:{symbol:"$"}}),l.zeroFormat=function(e){typeof e=="string"?d=e:d=null},l.fn=e.prototype={clone:function(){return l(this)},format:function(e){return n(this,e?e:l.defaultFormat)},unformat:function(e){return r(this,e?e:l.defaultFormat)},value:function(){return this._n},valueOf:function(){return this._n},set:function(e){return this._n=Number(e),this},add:function(e){return this._n=this._n+Number(e),this},subtract:function(e){return this._n=this._n-Number(e),this},multiply:function(e){return this._n=this._n*Number(e),this},divide:function(e){return this._n=this._n/Number(e),this},difference:function(e){var t=this._n-Number(e);return t<0&&(t=-t),t}},v&&(module.exports=l),typeof ender=="undefined"&&(this.numeral=l),typeof define=="function"&&define.amd&&define([],function(){return l})}).call(this);